<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>codeTrack报表</title>
    <script src="http://g.tbcdn.cn/??kissy/k/1.4.2/seed-min.js"></script>
    <script src="http://g.tbcdn.cn/mui/code-tracker/3.0.1/??seed.js,report.js"></script>
    <script src="http://www.tmall.com/go/rgn/main/codetrack.php"></script>
    <link rel="stylesheet" href="http://a.tbcdn.cn/p/global/1.0/global-min.css" />
</head>
<body>
</body>
</html>
<script language="javascript">
    var module={};
    module.exports=function(t){function a(t){var a,e,u,i=[];return function(r,m){return 0===m||m||(m=1),1&m&&!e&&(e=!0,t(function(t){for(a=t;u=i.shift();)u&&u.apply(null,[a])})),void 0!==a?(r&&r.apply(null,[a]),a):(2&m||r&&i.push(r),a)}}var e;return e={onLocalJson:function(a,e){var u=require("fs"),i=require("path"),r=i.join(t.workPath,a);u.exists(r,function(t){t?u.readFile(r,function(t,a){if(t)throw t;e(JSON.parse(a))}):e({})})},onRemoteJson:function(t,a){var e=require("http");e.get(t,function(t){var e=[];t.on("data",function(t){e.push(t)}),t.on("end",function(){a(JSON.parse(Buffer.concat(e).toString("utf8")))})})},onSamplingInfo:a(function(t){e.onLocalJson("samplingInfo.json",t)}),onBaseData:a(function(t){e.onLocalJson("baseData.json",t)}),onRemoteData:function(a,u){var i=t.reportUri+"url="+encodeURIComponent(t.dataUri)+"&st="+a.st+"&et="+a.et;t.dataToken&&(i+="&url_token="+t.dataToken),t.dataUriPostfix&&(i+="&"+t.dataUriPostfix),e.onRemoteJson(i,function(t){for(var a in t)if(t&&t[a]&&(t[a].totalNum&&t[a].totalNum<0&&(t[a].totalNum=Math.round(t[a].totalDelay*t[a].hitsNum/t[a].totalHitsDelay)),t[a].time))for(var e in t[a].time){var i=t[a].time[e];i&&i.totalNum&&i.totalNum<0&&(i.totalNum=Math.round(i.totalDelay*i.hitsNum/i.totalHitsDelay))}u(t)})},onDistribution:a(function(t){e.onBaseData(function(a){for(var e,u=0,i=Math.floor(a.minTime/600);i<Math.floor(a.minTime/600)+144;i++){if(!a.time||!a.time[i]){e=!0;break}u+=a.time[i].totalNum}if(e)return t(null);for(var r=u/144,m=[],i=Math.floor(a.minTime/600);i<Math.floor(a.minTime/600)+144;i++)m.push(parseFloat(Math.min(Math.max(a.time[i].totalNum/r,.01),100).toFixed(2),10));t(m)})}),onDatumMap:a(function(t){e.onSamplingInfo(function(a){for(var e={},u=a.length-1;u>=0;u--){var i=a[u];e[i.name]=i.datum||""}t(e)})}),onBufferData:function(t,e){function u(t,e){setTimeout(function(){(!i["_buffer_"+t.st]||!i._maxTime||t.et>i._maxTime+1)&&(i["_buffer_"+t.st]=a(function(a){i.onRemoteData(t,a)})),i["_buffer_"+t.st](e)},0)}for(var i=this,r=0,m={minTime:0,maxTime:0},o=14400*Math.floor(t.st/14400);o<t.et;o+=14400)r++,u({st:o,et:o+14400-1},function(a){for(var u in a)if(a[u]&&a[u].totalNum&&a[u].time)for(var o in a[u].time)if(!(600*o>=t.et||600*(1*o+1)<=t.st)){var n=m[u]||(m[u]={totalNum:0,hitsNum:0,totalDelay:0,totalHitsDelay:0,time:{}}),l=Math.min(Math.max(600*o,a.minTime),a.maxTime+1),s=Math.min(Math.max(600*(1*o+1)-1,a.minTime),a.maxTime+1);m.maxTime=m.maxTime?Math.max(m.maxTime,s):s,m.minTime=m.minTime?Math.min(m.minTime,l):l,i._maxTime=i._maxTime?Math.max(i._maxTime,s):s;var N=a[u].time[o];n.totalNum+=N.totalNum,n.hitsNum+=N.hitsNum,n.totalDelay+=N.totalDelay,n.totalHitsDelay+=N.totalHitsDelay,n.exampleURL=a[u].time[o].exampleURL;var h=n.time[o]||(n.time[o]={totalNum:0,hitsNum:0,totalDelay:0,totalHitsDelay:0});h.totalNum+=N.totalNum,h.hitsNum+=N.hitsNum,h.totalDelay+=N.totalDelay,h.totalHitsDelay+=N.totalHitsDelay,h.exampleURL=N.exampleURL}0===--r&&e(m)})},onCurrentInstability:function(a,e,u){function i(a,e){if(e>a)return i(e,a);var u=t.sampleNumDaily||8192;a>u&&(a=u,e=Math.round(e*u/a));for(var r,m=1,o=0,n=512,l=Math.pow(2,n),s=e+1;a>=s;s++)r=m*(a-e+s)/s,(!r||isNaN(r)||1/0===r)&&(m>1?(m/=l,o+=n):(m*=l,o-=n),r=m*(a-e+s)/s),m=r;return(o+Math.log(m)/Math.log(2))*Math.abs(Math.atan2(a,e)-Math.PI/4)}u=u||86400;var r=this;e=Math.ceil((e||new Date)/1e3),r.onDatumMap(function(t){r.onBufferData({st:600*Math.ceil(e/600)-86400,et:600*Math.ceil(e/600)},function(m){r.onBufferData({st:600*Math.ceil(e/600)-172800,et:600*Math.ceil(e/600)-86400},function(e){function r(){return{current:{totalNum:0,hitsNum:0},pre10Minutes:{totalNum:0,hitsNum:0},preRange:{totalNum:0,hitsNum:0},pre24Hours:{totalNum:0,hitsNum:0},currentHistory:{totalNum:0,hitsNum:0},pre10MinutesHistory:{totalNum:0,hitsNum:0},preRangeHistory:{totalNum:0,hitsNum:0},pre24HoursHistory:{totalNum:0,hitsNum:0}}}var o={};for(var n in m)if(m[n]&&m[n].totalNum){var l=n.substring(n.indexOf("|")+1),s=l.indexOf("|")>0?l.substring(0,l.indexOf("|")):"",N=o[l]||(o[l]=r()),h=s?o[s]||(o[s]=r()):null;N.pre24Hours.totalNum+=m[n].totalNum,N.pre24Hours.hitsNum+=m[n].hitsNum,N.pre24Hours.exampleURL=m[n].exampleURL,h&&(h.pre24Hours.totalNum+=m[n].totalNum,h.pre24Hours.hitsNum+=m[n].hitsNum,h.pre24Hours.exampleURL=m[n].exampleURL);for(var p=m[n]&&m[n].time,f=Math.floor(m.maxTime/600);f>=Math.floor((m.maxTime-u)/600);f--){var M=p&&p[f];M&&(N.preRange.totalNum+=M.totalNum,N.preRange.hitsNum+=M.hitsNum,N.preRange.exampleURL=M.exampleURL,h&&(h.preRange.totalNum+=M.totalNum,h.preRange.hitsNum+=M.hitsNum,h.preRange.exampleURL=M.exampleURL))}p&&p[Math.floor(m.maxTime/600)]&&(N.current.totalNum+=p[Math.floor(m.maxTime/600)].totalNum,N.current.hitsNum+=p[Math.floor(m.maxTime/600)].hitsNum,N.current.exampleURL=p[Math.floor(m.maxTime/600)].exampleURL,h&&(h.current.totalNum+=p[Math.floor(m.maxTime/600)].totalNum,h.current.hitsNum+=p[Math.floor(m.maxTime/600)].hitsNum,h.current.exampleURL=p[Math.floor(m.maxTime/600)].exampleURL)),p&&p[Math.floor(m.maxTime/600)-1]&&(N.pre10Minutes.totalNum+=p[Math.floor(m.maxTime/600)-1].totalNum,N.pre10Minutes.hitsNum+=p[Math.floor(m.maxTime/600)-1].hitsNum,N.pre10Minutes.exampleURL=p[Math.floor(m.maxTime/600)-1].exampleURL,h&&(h.pre10Minutes.totalNum+=p[Math.floor(m.maxTime/600)-1].totalNum,h.pre10Minutes.hitsNum+=p[Math.floor(m.maxTime/600)-1].hitsNum,h.pre10Minutes.exampleURL=p[Math.floor(m.maxTime/600)-1].exampleURL))}for(var n in e)if(e[n]&&e[n].totalNum){var l=n.substring(n.indexOf("|")+1),s=l.indexOf("|")>0?l.substring(0,l.indexOf("|")):"",N=o[l]||(o[l]=r()),h=s?o[s]||(o[s]=r()):null;N.pre24HoursHistory.totalNum+=e[n].totalNum,N.pre24HoursHistory.hitsNum+=e[n].hitsNum,N.pre24HoursHistory.exampleURL=e[n].exampleURL,h&&(h.pre24HoursHistory.totalNum+=e[n].totalNum,h.pre24HoursHistory.hitsNum+=e[n].hitsNum,h.pre24HoursHistory.exampleURL=e[n].exampleURL);for(var p=e[n]&&e[n].time,f=Math.floor(m.maxTime/600)-144;f>=Math.floor((m.maxTime-u)/600)-144;f--){var M=p&&p[f];M&&(N.preRangeHistory.totalNum+=M.totalNum,N.preRangeHistory.hitsNum+=M.hitsNum,N.preRangeHistory.exampleURL=M.exampleURL,h&&(h.preRangeHistory.totalNum+=M.totalNum,h.preRangeHistory.hitsNum+=M.hitsNum,h.preRangeHistory.exampleURL=M.exampleURL))}p&&p[Math.floor(m.maxTime/600)-144]&&(N.currentHistory.totalNum+=p[Math.floor(m.maxTime/600)-144].totalNum,N.currentHistory.hitsNum+=p[Math.floor(m.maxTime/600)-144].hitsNum,N.currentHistory.exampleURL=p[Math.floor(m.maxTime/600)-144].exampleURL,h&&(h.currentHistory.totalNum+=p[Math.floor(m.maxTime/600)-144].totalNum,h.currentHistory.hitsNum+=p[Math.floor(m.maxTime/600)-144].hitsNum,h.currentHistory.exampleURL=p[Math.floor(m.maxTime/600)-144].exampleURL)),p&&p[Math.floor(m.maxTime/600)-144-1]&&(N.pre10MinutesHistory.totalNum+=p[Math.floor(m.maxTime/600)-144-1].totalNum,N.pre10MinutesHistory.hitsNum+=p[Math.floor(m.maxTime/600)-144-1].hitsNum,N.pre10MinutesHistory.exampleURL=p[Math.floor(m.maxTime/600)-144-1].exampleURL,h&&(h.pre10MinutesHistory.totalNum+=p[Math.floor(m.maxTime/600)-144-1].totalNum,h.pre10MinutesHistory.hitsNum+=p[Math.floor(m.maxTime/600)-144-1].hitsNum,h.pre10MinutesHistory.exampleURL=p[Math.floor(m.maxTime/600)-144-1].exampleURL))}var x=[];for(var n in o){o[n].name=n;var c=n.indexOf("|")>0?n.substring(0,n.indexOf("|")):t[n];c&&c!=n||"app.init"==n||(c="app.init"),o[n].datumName=c;var R,y=[],H=.5,v=4,T={};if(c&&o[c]&&o[c].preRange.totalNum&&o[n].preRange.totalNum){var g=o[c].current.totalNum*o[n].preRange.totalNum/o[c].preRange.totalNum,D=g/(o[n].current.hitsNum>v?o[n].current.totalNum/o[n].current.hitsNum:o[n].preRange.totalNum/o[n].preRange.hitsNum);Math.round(D)!=o[n].current.hitsNum&&(R=i(D,o[n].current.hitsNum))?(T.descDatum="当前数据("+o[n].current.hitsNum+")<>基准("+Math.round(D)+")",T.valueDatum=R):T=null}if(T&&o[n].preRangeHistory.totalNum&&o[n].preRange.totalNum&&o["app.init"]&&o["app.init"].current.hitsNum>v&&o["app.init"].pre10Minutes.hitsNum>v){var g=o[n].currentHistory.totalNum*o[n].preRange.totalNum/o[n].preRangeHistory.totalNum*o["app.init"].current.totalNum/o["app.init"].pre10Minutes.totalNum,D=g/(o[n].current.hitsNum>v?o[n].current.totalNum/o[n].current.hitsNum:o[n].preRange.totalNum/o[n].preRange.hitsNum);Math.round(D)<o[n].current.hitsNum&&(T.descHistory="当前数据("+o[n].current.hitsNum+")<>历史("+Math.round(D)+")",T.valueHistory=i(D,o[n].current.hitsNum))}T&&(T.valueDatum||T.valueHistory)&&(T.value=T.valueDatum?T.valueDatum+Math.min(T.valueDatum,T.valueHistory||0)*H:T.valueHistory,T.desc=!T.valueHistory||T.valueHistory<T.valueDatum?T.descDatum:T.descHistory,y.push(T));var d,U={};if(c&&o[c]&&o[c].preRange.totalNum&&o[n].preRange.totalNum){var g=o[c].pre10Minutes.totalNum*o[n].preRange.totalNum/o[c].preRange.totalNum,D=g/(o[n].pre10Minutes.hitsNum>v?o[n].pre10Minutes.totalNum/o[n].pre10Minutes.hitsNum:o[n].preRange.totalNum/o[n].preRange.hitsNum);Math.round(D)!=o[n].pre10Minutes.hitsNum&&(d=i(D,o[n].pre10Minutes.hitsNum))?(U.descDatum="前十分钟("+o[n].pre10Minutes.hitsNum+")<>基准("+Math.round(D)+")",U.valueDatum=d):U=null}if(U&&o[n].preRangeHistory.totalNum&&o[n].preRange.totalNum){var g=o[n].pre10MinutesHistory.totalNum*o[n].preRange.totalNum/o[n].preRangeHistory.totalNum,D=g/(o[n].pre10Minutes.hitsNum>v?o[n].pre10Minutes.totalNum/o[n].pre10Minutes.hitsNum:o[n].preRange.totalNum/o[n].preRange.hitsNum);Math.round(D)!=o[n].pre10Minutes.hitsNum&&(U.descHistory="前十分钟("+o[n].pre10Minutes.hitsNum+")<>历史("+Math.round(D)+")",U.valueHistory=i(D,o[n].pre10Minutes.hitsNum))}U&&(U.valueDatum||U.valueHistory)&&(U.value=U.valueDatum?U.valueDatum+Math.min(U.valueDatum,U.valueHistory||0)*H:U.valueHistory,U.desc=!U.valueHistory||U.valueHistory<U.valueDatum?U.descDatum:U.descHistory,y.push(U)),y.sort(function(t,a){return a.value-t.value}),o[n].instability=y;for(var L=0,b=1,f=0;f<y.length;f++)L+=y[f].value*b,b*=H;o[n].instabilityNum=L,x.push(o[n])}x.sort(function(t,a){return a.instabilityNum-t.instabilityNum}),a(x)})})})}}};;
    window.TrackData=module.exports;
    module=undefined;
    KISSY.use('mui/code-tracker/report', function (S,Report) {
        Report.init({"dataUri":"http://tap.tmall.com/track-1/","reportUri":"http://jstracker.alibaba.net/?m=Json&a=data1&"});
    });
</script>